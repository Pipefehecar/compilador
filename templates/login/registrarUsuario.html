{% extends 'base.html' %}

{% block title %} Compilador|registro{% endblock %} 
	
{% block content %}
<div class="container">
	<div id= "signupbox" style="margin-top:50px" class=" mainbox col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<div class="panel-title">Reg&iacute;strate</div>
				<div style="float:right; font-size: 80%; position: relative; top:-10px"><a style="color:white" href="{% url 'login' %}">iniciar ses&iacute;on</a></div>
                
			</div>
			<div class="panel-body" >
				<form id="signupform" class="form-horizontal" role="form"  method="POST" autocomplete="on">
					{% csrf_token %}
					
					<div class="row">
						<div class="col-md-8 col-md-offset-2">
							<div class="form-group">
								<label>Nombres:</label>
								<input class="form-control" type="text" id="first_name" name="first_name" required="" >
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-8 col-md-offset-2">
							<div class="form-group">
								<label>Apellidos:</label>
								<input class="form-control" type="text" id="last_name" name="last_name" required="">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-8 col-md-offset-2">
							<div class="form-group">
								<label>Edad:</label>
								<input class="form-control" type="text" id="edad" name="edad" required="">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-8 col-md-offset-2">
							<div class="form-group">
								<label>Nombre de usuario:</label>
								<input class="form-control" type="text" id="username" name="username" required="">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-8 col-md-offset-2">
							<div class="form-group">
								<label>Email:</label>
								<input class="form-control" type="text" id="email" name="email" required="">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-8 col-md-offset-2">
							<div class="form-group">
								<label>Contraseña:</label>
								<input class="form-control" type="password" id="password1" name="password1" required="">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-8 col-md-offset-2">
							<div class="form-group">
								<label>Confirmar contraseña:</label>
								<input class="form-control" type="password" id="password2" name="password2" required="">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-8 col-md-offset-2">
							<div class="form-group">
								<label>Ciudad:</label>
								<input class="form-control" type="text" id="ciudad" name="ciudad" required="">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-8 col-md-offset-2">
							<div class="form-group">
								<label>Pais:</label>
								<input class="form-control" type="text" id="pais" name="pais" required="">
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-8 col-md-offset-2">
							<div class="form-group">
								<label>Lenguaje:</label>
								<input class="form-control" type="text" id="lenguaje" name="lenguaje" required="">
							</div>
						</div>
					</div>
					
					<!--<div class="form-group">
						<label for="captcha" class="col-md-3 control-label"></label>
						<div class="g-recaptcha col-md-9" data-sitekey="6Ld9YVMUAAAAANNqk8izUhaRoYwNhRrDoZltd_Nu"></div>
					</div> -->
					<div class="row">
						<div class="col-md-8 col-md-offset-2">
							<div class="form-group">
								<input id="btn-signup" class="btn btn-info" type="submit" name="Registro">
							</div>
						</div>
					</div>
					
				</form>
			</div>
		</div>
	</div>
</div>




{% endblock %}

{% block ajaxfuncion %}

<script>
	function registrar_usuario_ajax() {

		first_name = $('#first_name').val();
		last_name = $('#last_name').val();
		username = $('#username').val();
		email = $('#email').val();
		password1 = $('#password1').val();
		password2 = $('#password2').val();
		edad = $('#edad').val();

		ciudad = $('#ciudad').val();
		pais = $('#pais').val();
		lenguaje = $('#lenguaje').val();

		$.ajax({
			url: '/usuario/registrar/RegistroUsuario',
			type: 'POST',
			data: {
				csrfmiddlewaretoken: '{{ csrf_token }}',
				first_name: first_name,
				last_name: last_name,
				username: username,
				email: email,
				password1: password1,
				password2: password2,

				edad: edad,
				ciudad: ciudad,
				pais: pais,
				lenguaje: lenguaje,
			},
			success: function (result) {
				console.log(result);

			}, error: function (result) {
				console.log(result);
			}
		});
	}
</script>

  
{% endblock %}



